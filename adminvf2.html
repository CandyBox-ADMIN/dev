<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Authentification Candy Box</title>
  <style>
    :root{
      --pink:#ff6fb5;
      --light-pink:#fff2f8;
      --border-pink:#ff9acb;
      --text:#333;
      --card-bg:#fff;
    }
    html,body{
      height:100%;
      margin:0;
      font-family: "Poppins", Arial, sans-serif;
      background: linear-gradient(180deg, #fff8fb 0%, #fffdfb 100%);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .container{
      width:100%;
      max-width:420px;
      padding:20px;
      box-sizing:border-box;
    }

    /* Popup / card */
    .card{
      background: linear-gradient(180deg, var(--card-bg) 0%, var(--light-pink) 100%);
      border-radius:14px;
      padding:24px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.08);
      border:4px solid transparent;
      position:relative;
      overflow:visible;
      text-align:center;
    }

    /* Pink outline */
    .card::before{
      content:"";
      position:absolute;
      inset:-6px;
      border-radius:18px;
      background:transparent;
      border:3px solid var(--border-pink);
      pointer-events:none;
      box-shadow:0 6px 20px rgba(255,105,180,0.06);
    }

    .logo img{
      max-width:320px;
      width:100%;
      height:auto;
      margin-bottom:14px;
    }

    h2{
      margin:0 0 14px 0;
      font-size:20px;
      color:var(--pink);
    }

    .desc{
      margin-bottom:16px;
      color:#666;
      font-size:14px;
    }

    .form-row{
      display:flex;
      flex-direction:column;
      gap:8px;
      margin-bottom:12px;
    }

    input[type="password"]{
      padding:12px 14px;
      font-size:16px;
      border-radius:10px;
      border:1px solid #e6d6e3;
      outline:none;
      background:#fff;
    }
    input[type="password"]::placeholder{
      color:#caa8b9;
    }

    .actions{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-top:8px;
    }

    .remember{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:14px;
      color:#555;
    }

    .btn{
      background:var(--pink);
      color:white;
      padding:10px 14px;
      border-radius:10px;
      border:none;
      cursor:pointer;
      font-weight:600;
      box-shadow:0 6px 16px rgba(255,111,181,0.15);
    }
    .btn:active{ transform:translateY(1px); }

    .note{
      margin-top:12px;
      font-size:13px;
      color:#9a7a8f;
      text-align:center;
    }
  </style>
</head>
<body>
  <div class="container" role="main" aria-labelledby="auth-title">
    <div class="card" role="dialog" aria-modal="true" aria-label="Authentification Candy Box">
      <!-- Logo à l'intérieur du popup -->
      <div class="logo">
        <img src="https://framerusercontent.com/images/wXspVf9QpQD9vwcCDaMcQuVIkc.png?width=419&height=124" alt="Candy Box - logo">
      </div>

      <h2 id="auth-title">Authentification Candy Box</h2>
      <p class="desc">Entrez votre mot de passe pour accéder à votre espace employé.</p>

      <form id="loginForm" autocomplete="off" aria-describedby="note">
        <div class="form-row">
          <label for="password" style="display:none">Mot de Passe</label>
          <input id="password" type="password" placeholder="Mot de Passe Personnel" aria-label="Mot de Passe Personnel" required />
        </div>

        <div class="actions">
          <label class="remember">
            <input id="remember" type="checkbox" checked />
            Se souvenir de moi
          </label>

          <button type="submit" class="btn" id="submitBtn">Se connecter</button>
        </div>

        <p id="note" class="note" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <script>
    (function(){
      const routes = {
        "Ines2014": "https://candy-box.framer.website/authentification-candy-box-ines",
        "Lena2014": "https://candy-box.framer.website/authentification-candy-box-lena",
        "!!Maxime!!": "https://candy-box.framer.website/authentification-candy-box-maxime",
        "20120915": "https://candy-box.framer.website/authentification-candy-box-abdallah",
        "TimFateh!": "https://candy-box.framer.website/authentification-candy-box-tim"
      };

      const form = document.getElementById('loginForm');
      const input = document.getElementById('password');
      const remember = document.getElementById('remember');
      const note = document.getElementById('note');

      const LS_KEY = 'candybox_remember_pass';

      // Auto-redirect si mot de passe mémorisé
      try {
        const saved = localStorage.getItem(LS_KEY);
        if(saved && routes[saved]){
          note.textContent = "Connexion automatique — redirection...";
          setTimeout(()=> window.location.href = routes[saved], 700);
        }
      } catch(e){ console.warn('localStorage inaccessible', e); }

      form.addEventListener('submit', function(ev){
        ev.preventDefault();
        const pw = input.value.trim();
        if(!pw){ note.textContent = "Veuillez entrer un mot de passe."; return; }

        if(routes[pw]){
          if(remember.checked){
            try { localStorage.setItem(LS_KEY, pw); } catch(e){ console.warn(e); }
          } else {
            try { localStorage.removeItem(LS_KEY); } catch(e){}
          }

          note.textContent = "Mot de passe correct — redirection...";
          setTimeout(()=> { window.location.href = routes[pw]; }, 500);
        } else {
          note.textContent = "Mot de passe incorrect. Réessaie.";
          input.value = "";
          input.focus();
        }
      });
    })();
  </script>
</body>
</html>
